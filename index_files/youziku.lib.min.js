(function(n){var t=n.$youziku,v;t._list=[];t.ver="2_1_2";t.drawed=!1;var g=t.Protocol+"//api.youziku.com/webfont/FastJSPost",nt=function(){var t,n;if(window.ActiveXObject)for(t=["MSXML2.XMLHttp.6.0","MSXML2.XMLHttp.5.0","MSXML2.XMLHttp.4.0","MSXML2.XMLHttp.3.0","MSXML2.XMLHttp","Microsoft.XMLHttp"],n=0;n<t.length;n++)try{return new ActiveXObject(t[n])}catch(i){}else try{return new XMLHttpRequest}catch(r){}},y=function(n,t,i,r,u,f){var e=nt();try{e.open(n,t,i);(n==="POST"||n==="post")&&e.setRequestHeader("Content-Type","application/x-www-form-urlencoded;");e.onreadystatechange=function(){e.readyState===4&&(e.status===200||e.status===304?u(e.responseText):e.status===404&&f())};e.send(r)}catch(o){}},p=function(){t.nd?t.draw():t.ajaxDraw()};t.ajaxfont=function(){t.nd||(t.nd=!0,t.draw())};t.ajaxDraw=function(){t.promises.length<=0||Promise.all(t.promises).then(function(n){n.length===t.promises.length&&(t.nd||(t.nd=!0,t.draw()))},function(n){console.error("$youziku:"+n)})};var tt=function(n){return n.replace(/(.)(?=.*\1)/g,"")},it=function(n){for(var t="",r={},r=document.querySelectorAll(n),i=0;i<r.length;i++)t+=r[i].innerHTML.replace(/[\r\n]/g,"").replace(/<!--.*?-->/g,"").replace(/<script.*?>.*?<\/script>/ig,"").replace(/<\/?[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"").replace(/&nbsp;/g,"").replace(/&quot;/g,'"').replace(/&/g,"").replace(/\s/g,"").replace("<","<=");return new RegExp("[A-Za-z]").test(t)&&(t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz"+t),new RegExp("[0-9]").test(t)&&(t="0123456789"+t),t=tt(t),t.split("").sort(function(n,t){return n.charCodeAt(0)-t.charCodeAt(0)}).join("")},rt=0,ut="",e=8,w=function(n){return k(s(h(n),n.length*e))},ot=function(n){return d(s(h(n),n.length*e))},st=function(n){return b(s(h(n),n.length*e))},ht=function(n,t){return k(l(n,t))},ct=function(n,t){return d(l(n,t))},lt=function(n,t){return b(l(n,t))},s=function(n,t){var l;n[t>>5]|=128<<t%32;n[(t+64>>>9<<4)+14]=t;var e=1732584193,s=-271733879,h=-1732584194,c=271733878;for(l=0;l<n.length;l+=16){var a=e,v=s,y=h,p=c;e=i(e,s,h,c,n[l+0],7,-680876936);c=i(c,e,s,h,n[l+1],12,-389564586);h=i(h,c,e,s,n[l+2],17,606105819);s=i(s,h,c,e,n[l+3],22,-1044525330);e=i(e,s,h,c,n[l+4],7,-176418897);c=i(c,e,s,h,n[l+5],12,1200080426);h=i(h,c,e,s,n[l+6],17,-1473231341);s=i(s,h,c,e,n[l+7],22,-45705983);e=i(e,s,h,c,n[l+8],7,1770035416);c=i(c,e,s,h,n[l+9],12,-1958414417);h=i(h,c,e,s,n[l+10],17,-42063);s=i(s,h,c,e,n[l+11],22,-1990404162);e=i(e,s,h,c,n[l+12],7,1804603682);c=i(c,e,s,h,n[l+13],12,-40341101);h=i(h,c,e,s,n[l+14],17,-1502002290);s=i(s,h,c,e,n[l+15],22,1236535329);e=r(e,s,h,c,n[l+1],5,-165796510);c=r(c,e,s,h,n[l+6],9,-1069501632);h=r(h,c,e,s,n[l+11],14,643717713);s=r(s,h,c,e,n[l+0],20,-373897302);e=r(e,s,h,c,n[l+5],5,-701558691);c=r(c,e,s,h,n[l+10],9,38016083);h=r(h,c,e,s,n[l+15],14,-660478335);s=r(s,h,c,e,n[l+4],20,-405537848);e=r(e,s,h,c,n[l+9],5,568446438);c=r(c,e,s,h,n[l+14],9,-1019803690);h=r(h,c,e,s,n[l+3],14,-187363961);s=r(s,h,c,e,n[l+8],20,1163531501);e=r(e,s,h,c,n[l+13],5,-1444681467);c=r(c,e,s,h,n[l+2],9,-51403784);h=r(h,c,e,s,n[l+7],14,1735328473);s=r(s,h,c,e,n[l+12],20,-1926607734);e=u(e,s,h,c,n[l+5],4,-378558);c=u(c,e,s,h,n[l+8],11,-2022574463);h=u(h,c,e,s,n[l+11],16,1839030562);s=u(s,h,c,e,n[l+14],23,-35309556);e=u(e,s,h,c,n[l+1],4,-1530992060);c=u(c,e,s,h,n[l+4],11,1272893353);h=u(h,c,e,s,n[l+7],16,-155497632);s=u(s,h,c,e,n[l+10],23,-1094730640);e=u(e,s,h,c,n[l+13],4,681279174);c=u(c,e,s,h,n[l+0],11,-358537222);h=u(h,c,e,s,n[l+3],16,-722521979);s=u(s,h,c,e,n[l+6],23,76029189);e=u(e,s,h,c,n[l+9],4,-640364487);c=u(c,e,s,h,n[l+12],11,-421815835);h=u(h,c,e,s,n[l+15],16,530742520);s=u(s,h,c,e,n[l+2],23,-995338651);e=f(e,s,h,c,n[l+0],6,-198630844);c=f(c,e,s,h,n[l+7],10,1126891415);h=f(h,c,e,s,n[l+14],15,-1416354905);s=f(s,h,c,e,n[l+5],21,-57434055);e=f(e,s,h,c,n[l+12],6,1700485571);c=f(c,e,s,h,n[l+3],10,-1894986606);h=f(h,c,e,s,n[l+10],15,-1051523);s=f(s,h,c,e,n[l+1],21,-2054922799);e=f(e,s,h,c,n[l+8],6,1873313359);c=f(c,e,s,h,n[l+15],10,-30611744);h=f(h,c,e,s,n[l+6],15,-1560198380);s=f(s,h,c,e,n[l+13],21,1309151649);e=f(e,s,h,c,n[l+4],6,-145523070);c=f(c,e,s,h,n[l+11],10,-1120210379);h=f(h,c,e,s,n[l+2],15,718787259);s=f(s,h,c,e,n[l+9],21,-343485551);e=o(e,a);s=o(s,v);h=o(h,y);c=o(c,p)}return Array(e,s,h,c)},c=function(n,t,i,r,u,f){return o(ft(o(o(t,n),o(r,f)),u),i)},i=function(n,t,i,r,u,f,e){return c(t&i|~t&r,n,t,u,f,e)},r=function(n,t,i,r,u,f,e){return c(t&r|i&~r,n,t,u,f,e)},u=function(n,t,i,r,u,f,e){return c(t^i^r,n,t,u,f,e)},f=function(n,t,i,r,u,f,e){return c(i^(t|~r),n,t,u,f,e)},l=function(n,t){var r=h(n),u,f,i,o;for(r.length>16&&(r=s(r,n.length*e)),u=Array(16),f=Array(16),i=0;i<16;i++)u[i]=r[i]^909522486,f[i]=r[i]^1549556828;return o=s(u.concat(h(t)),512+t.length*e),s(f.concat(o),640)},o=function(n,t){var i=(n&65535)+(t&65535),r=(n>>16)+(t>>16)+(i>>16);return r<<16|i&65535},ft=function(n,t){return n<<t|n>>>32-t},h=function(n){for(var i=Array(),r=(1<<e)-1,t=0;t<n.length*e;t+=e)i[t>>5]|=(n.charCodeAt(t/e)&r)<<t%32;return i},b=function(n){for(var i="",r=(1<<e)-1,t=0;t<n.length*32;t+=e)i+=String.fromCharCode(n[t>>5]>>>t%32&r);return i},k=function(n){for(var i=rt?"0123456789ABCDEF":"0123456789abcdef",r="",t=0;t<n.length*4;t++)r+=i.charAt(n[t>>2]>>t%4*8+4&15)+i.charAt(n[t>>2]>>t%4*8&15);return r},d=function(n){for(var u,i,r="",t=0;t<n.length*4;t+=3)for(u=(n[t>>2]>>8*(t%4)&255)<<16|(n[t+1>>2]>>8*((t+1)%4)&255)<<8|n[t+2>>2]>>8*((t+2)%4)&255,i=0;i<4;i++)r+=t*8+i*6>n.length*32?ut:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(u>>6*(3-i)&63);return r},a=function(n){return n.toString().replace(/(^\s*)|(\s*$)/g,"")},et=function(){var i=0,n=[],f,e,r,o,u,c;for(r in t._)(f=it(t._[r].s),f!=="")&&(e=w(f),(undefined==t.v[r]||e!==t.v[r].k||t._[r].k!==t.v[r].f)&&(n.push({k:"s"+i,v:t._[r].s}),n.push({k:"k"+i,v:t._[r].k}),n.push({k:"f"+i,v:t._[r].f}),n.push({k:"a"+i,v:!0}),n.push({k:"m"+i,v:e}),n.push({k:"t"+i,v:f}),i++));for(r in t.v)r!==""&&undefined===t._[r]&&(n.push({k:"s"+i,v:t.v[r].s}),n.push({k:"k"+i,v:a(t.v[r].f)}),n.push({k:"f"+i,v:""}),n.push({k:"a"+i,v:!1}),n.push({k:"m"+i,v:""}),n.push({k:"t"+i,v:""}),i++);if(i>0){for(n.push({k:"num",v:i}),n.push({k:"url",v:encodeURI(decodeURI(t.yzkurl?t.yzkurl:location.href.split("#")[0]))}),o="",u=0;u<n.length;u++)o+=u>=n.length-1?n[u].k+"="+encodeURIComponent(a(n[u].v)):n[u].k+"="+encodeURIComponent(a(n[u].v))+"&";var h=function(n){console.log("%c有字库Api生成结果:","background-image:-webkit-gradient( linear, left top, right top, color-stop(0, #f22), color-stop(0.15, #f2f), color-stop(0.3, #22f), color-stop(0.45, #9A32CD), color-stop(0.6, #8B4789),color-stop(0.75, #006400), color-stop(0.9, #4876FF) );color:transparent;-webkit-background-clip: text;font-size:23px;");var r=n.Result,i="green";r==="warn"||r==="null"?i="#FF7F24":r==="error"&&(i="red");console.log("\t%c code:"+n.Code," font-size:16px;color:"+i);console.log("\t%c errMsg:"+n.Value," font-size:16px;color:"+i);YZK.bar(t.csslist+"&token="+Math.random())},s=function(){y("POST",g,!1,o,function(n){var t=JSON.parse(n);h(t)},function(){})},l=function(n,t){navigator.userAgent.indexOf("Firefox")>=0&&n.setHours(n.getHours()+8);var i=new Date(t);return(navigator.userAgent.indexOf("Firefox")>=0&&i.setHours(i.getHours()+8),n.getTime()>i.getTime())?!0:!1};location.hostname!==""&&location.hostname!=="localhost"&&location.hostname!=="127.0.0.1"?(c=t.Protocol+"//youziku.oss-cn-beijing.aliyuncs.com/userAuth/"+w(location.hostname)+".backlist.json?rom="+Math.random(),y("GET",c,!1,null,function(n){var t=JSON.parse(n),i=t.Expires.toString(),u=t.AddTime.toString(),f=l(new Date,i),r;f?s():(r={Code:403,Result:"warn",Value:location.hostname+"请求过于频繁,系统已自动拦截，请于"+i+"重试！拦截时间:"+u},h(r))},function(){s()})):s()}};t.draw=function(){t.drawed||(t.drawed=!0,et());t.load=function(){t.warn("已经渲染完成，无法再load字体。")}};v=n.onload;n.onload=typeof v!="function"?function(){p()}:function(){v();p()}})(window,document);